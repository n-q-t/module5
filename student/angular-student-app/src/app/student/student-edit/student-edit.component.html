
<section class="vh-90 gradient-custom" style="background-color: lightblue">
  <div class="container py-5 h-100">
    <div class="row justify-content-center align-items-center">
      <div class="col-12 col-lg-9 col-xl-7">
        <div class="card shadow-2-strong card-registration" style="border-radius: 15px;">
          <div class="card-body p-4 p-md-5">
            <h3 style="text-align: center">Sửa thông tin</h3>
            <form [formGroup]="formStudent" (ngSubmit)="edit()">

              <input hidden formControlName="id">

              <div class="row">
                <div class="col-md-6 mb-4 pb-2">

                  <div class="form-outline">
                    <label class="form-label" for="code">Mã học sinh</label>
                    <input type="text" id="code" class="form-control form-control-lg" formControlName="code"
                           placeholder="HS-XXXX"/>
                    <div
                      *ngIf="!formStudentValue.code.valid && (formStudentValue.code.dirty||formStudentValue.code.touched)">
                      <div style="color: red" *ngIf="formStudentValue.code.hasError('required')">Không được bỏ trống
                      </div>
                      <div style="color: red" *ngIf="formStudentValue.code.hasError('pattern')">Không đúng định dạng
                      </div>
                    </div>
                  </div>

                </div>
                <div class="col-md-6 mb-4 pb-2">

                  <div class="form-outline">
                    <label class="form-label" for="name">Tên</label>
                    <input type="text" id="name" class="form-control form-control-lg" formControlName="name" placeholder="Nguyen Van A"/>
                    <div
                      *ngIf="!formStudentValue.name.valid && (formStudentValue.name.dirty||formStudentValue.name.touched)">
                      <div style="color: red" *ngIf="formStudentValue.name.hasError('required')">Không được bỏ trống</div>
                      <div style="color: red" *ngIf="formStudentValue.name.hasError('pattern')">Không đúng định dạng</div>
                      <div style="color: red" *ngIf="formStudentValue.name.hasError('maxlength')">Không quá 50 kí tự</div>
                    </div>
                  </div>

                </div>
              </div>


              <div class="row">
                <div class="col-md-6 mb-4 pb-2">

                  <div class="form-outline">
                    <label class="form-label" for="dayOfBirth">Ngày sinh</label>
                    <input type="date" id="dayOfBirth" class="form-control form-control-lg"
                           formControlName="dayOfBirth"/>
                    <div
                      *ngIf="!formStudentValue.dayOfBirth.valid && (formStudentValue.dayOfBirth.dirty||formStudentValue.dayOfBirth.touched)">
                      <div style="color: red" *ngIf="formStudentValue.dayOfBirth.hasError('required')">Không được bỏ
                        trống
                      </div>

                      <div style="color: red" *ngIf="formStudentValue.dayOfBirth.hasError('invalidDate')">Ngày sinh nhỏ hơn ngày hiện tại
                      </div>

                    </div>
                  </div>
                </div>

                <!--                Chọn giới tính-->

                <div class="col-md-6 mb-4">
                  <h6 class="mb-2 pb-1">Giới tính: </h6>

                  <div class="form-check form-check-inline">
                    <input class="form-check-input" checked type="radio" id="maleGender"
                           value="Nam" formControlName="gender"/>
                    <label class="form-check-label" for="maleGender">Nam</label>
                  </div>

                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" id="femaleGender"
                           value="Nữ" formControlName="gender"/>
                    <label class="form-check-label" for="femaleGender">Nữ</label>
                  </div>

                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" id="otherGender"
                           value="Khác" formControlName="gender"/>
                    <label class="form-check-label" for="otherGender">Khác</label>
                  </div>

                  <div
                    *ngIf="!formStudentValue.gender.valid && (formStudentValue.gender.pristine||formStudentValue.gender.dirty||formStudentValue.gender.touched)">
                    <div style="color: red" *ngIf="formStudentValue.gender.hasError('required')">Không được bỏ trống
                    </div>
                  </div>

                </div>
              </div>


              <div class="row">
                <div class=" d-flex align-items-center">

                  <div class="form-outline datepicker w-100">
                    <label for="address" class="form-label">Địa chỉ</label>
                    <input type="text" class="form-control form-control-lg" id="address" formControlName="address"/>
                    <div
                      *ngIf="!formStudentValue.address.valid && (formStudentValue.address.dirty||formStudentValue.address.touched)">
                      <div style="color: red" *ngIf="formStudentValue.address.hasError('required')">Không được bỏ trống</div>
                    </div>
                  </div>
                </div>

              </div>



              <div class="row">
                <div class="col-md-12">
                  <div class="form-outline">
                    <label class="form-label "> </label>
                    <select class="form-select form-control-lg" formControlName="clazz" [compareWith]="compareWith">
                      <option value="">--Lớp--</option>
                      <option *ngFor="let c of clazzs" [ngValue]="c" [text]="c.name"></option>
                    </select>
                  </div>
                  <div
                    *ngIf="!formStudentValue.clazz.valid && (formStudentValue.clazz.touched||formStudentValue.clazz.dirty)">
                    <div style="color: red" *ngIf="formStudentValue.clazz.hasError('required')">Không được bỏ
                      trống
                    </div>
                  </div>
                </div>
              </div>


              <div class="row">
                <div class="mt-4 pt-2">
                  <button type="button" class="btn btn-primary btn-lg" style="margin-left: 200px"
                          routerLink="/">Quay lại
                  </button>
                  <button type="submit" class="btn btn-primary btn-lg" style="margin-left: 40px"
                          [disabled]="!formStudent.valid"> Sửa
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>



